<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Anish Rajankar â€” Projects</title>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root{
      --bg: #f4f4f9;
      --card: #ffffff;
      --muted: #666;
      --accent: #4a90e2;
      --cta-start: #ffdd57;
      --cta-end: #ffc107;
      --text: #222;
      --glass: rgba(255,255,255,0.6);
    }

    html,body { height:100%; }

    body {
      font-family: "Segoe UI", Arial, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      scroll-behavior: smooth;
      transition: background 0.35s, color 0.35s;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    header {
      background: var(--accent);
      color: white;
      padding: 1rem 2rem;
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 2px 6px rgba(0,0,0,0.12);
    }

    header h2 { font-size:1.25rem; letter-spacing:0.2px; }
    nav { display:inline-flex; align-items:center; gap:12px; margin-top:8px; flex-wrap:wrap; justify-content:center; }
    nav a { color:white; text-decoration:none; font-weight:700; padding:6px 8px; border-radius:6px; transition:background 0.18s, color 0.18s; }
    nav a:hover { background: rgba(255,255,255,0.06); color: #fff; }
    .nav-cta { margin-left:8px; background: linear-gradient(90deg,var(--cta-start),var(--cta-end)); color:#111; border:none; padding:6px 10px; border-radius:8px; font-weight:800; text-decoration:none; }

    .hero {
      padding: 56px 20px;
      text-align: center;
      background: linear-gradient(135deg, #4a90e2 0%, #50c9c3 100%);
      color: white;
    }
    .hero h1 { font-size:2.2rem; margin-bottom:8px; }
    .hero p { font-size:1rem; max-width:820px; margin: 0.5rem auto 0; color: rgba(255,255,255,0.95); }

    .container {
      max-width:1100px;
      margin: 28px auto;
      padding: 0 20px;
    }

    .section-header { display:flex; align-items:flex-start; justify-content:space-between; gap:12px; margin-bottom:14px; flex-wrap:wrap; }
    .section-header h2 { font-size:1.4rem; }
    .section-header p { color:var(--muted); margin-top:6px; }

    /* Tag filter bar */
    .tag-bar {
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
    }
    .tag {
      background: rgba(0,0,0,0.04);
      color: var(--text);
      padding:8px 12px;
      border-radius:999px;
      font-weight:700;
      font-size:0.9rem;
      cursor:pointer;
      border: 1px solid rgba(0,0,0,0.04);
      transition: transform 0.12s ease, background 0.12s ease, box-shadow 0.12s ease;
    }
    .tag:hover { transform: translateY(-3px); box-shadow: 0 8px 18px rgba(0,0,0,0.06); }
    .tag.active {
      background: linear-gradient(90deg,var(--cta-start),var(--cta-end));
      color:#111;
      box-shadow: 0 10px 26px rgba(255,189,51,0.12);
    }
    .tag .count { font-weight:600; margin-left:8px; opacity:0.9; font-size:0.85rem; }

    .controls {
      display:flex;
      gap:12px;
      align-items:center;
      margin-left:auto;
    }
    .search {
      display:flex;
      align-items:center;
      gap:8px;
      background:var(--card);
      border-radius:8px;
      padding:6px 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.04);
      border:1px solid rgba(0,0,0,0.04);
    }
    .search input {
      border:0; outline:0; font-size:0.95rem; width:220px; background:transparent;
    }
    .clear-btn {
      background:transparent; border:0; color:var(--muted); cursor:pointer; font-weight:700;
    }

    /* Project grid */
    .project-grid {
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap:18px;
      margin-top:18px;
    }

    .project-card {
      background: var(--card);
      border-radius:12px;
      overflow:hidden;
      box-shadow: 0 8px 22px rgba(16,24,40,0.06);
      transition: transform 0.22s ease, box-shadow 0.22s ease;
      display:flex;
      flex-direction:column;
      min-height:220px;
    }
    .project-card:hover { transform: translateY(-8px); box-shadow: 0 18px 40px rgba(16,24,40,0.08); }

    .project-media {
      height:150px;
      background: linear-gradient(180deg, rgba(0,0,0,0.03), rgba(0,0,0,0.02));
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    .project-media img { width:100%; height:100%; object-fit:cover; display:block; }

    .project-body { padding:14px 16px 18px; display:flex; flex-direction:column; gap:8px; flex:1; }
    .project-title { font-size:1.05rem; font-weight:800; }
    .project-desc { color: #444; font-size:0.95rem; flex:1; }
    .project-meta { display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin-top:8px; }
    .tag-pill {
      background: rgba(0,0,0,0.05);
      padding:6px 10px;
      border-radius:999px;
      font-size:0.82rem;
      color:#444;
      font-weight:700;
    }

    .project-actions { display:flex; gap:8px; margin-top:10px; align-items:center; }
    .btn {
      padding:8px 12px;
      border-radius:8px;
      border:0;
      cursor:pointer;
      font-weight:800;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .btn-primary {
      background: linear-gradient(90deg,var(--cta-start),var(--cta-end));
      color:#111;
      box-shadow: 0 8px 20px rgba(255,189,51,0.12);
    }
    .btn-ghost {
      background:transparent;
      border:1px solid rgba(0,0,0,0.06);
      color:var(--text);
    }

    .projects-footer { margin-top:22px; text-align:center; }

    footer {
      background:#333;
      color:#ccc;
      text-align:center;
      padding:20px;
      margin-top:40px;
    }

    /* Modal details */
    .modal {
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background: rgba(0,0,0,0.45);
      z-index:2000;
      padding:20px;
    }
    .modal.open { display:flex; }
    .modal-card {
      width:100%;
      max-width:820px;
      background:var(--card);
      border-radius:12px;
      padding:18px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.25);
      overflow:auto;
      max-height:85vh;
    }
    .modal-close { float:right; background:transparent; border:0; font-size:1.1rem; cursor:pointer; }

    /* Dark mode */
    body.dark {
      --bg: #0f1115;
      --card: #111214;
      --muted: #9aa3b2;
      --text: #e6eef8;
      --glass: rgba(255,255,255,0.03);
    }
    body.dark header { background: #0b1220; }
    body.dark .tag { background: rgba(255,255,255,0.02); color:var(--text); border-color: rgba(255,255,255,0.03); }
    body.dark .search { background: #0f1114; border-color: rgba(255,255,255,0.03); }
    body.dark .gallery-caption { background: rgba(255,255,255,0.04); color:var(--text); }
    body.dark .project-desc { color:#cbd5e1; }
    body.dark .btn-ghost { border-color: rgba(255,255,255,0.06); color:var(--text); }

    @media (max-width:640px){
      .search input { width:120px; }
      .hero h1 { font-size:1.6rem; }
    }
  </style>
</head>
<body>
  <header>
    <h2>Anish Rajankar</h2>
    <nav>
      <a href="index.html">Home</a>
      <a class="nav-cta" href="index.html#projects">Back to Home</a>
      <a href="https://github.com/AnishRajankar" target="_blank" rel="noopener">GitHub</a>
      <button onclick="toggleDarkMode()" style="margin-left:8px; padding:6px 10px; border-radius:6px; border:0; background:linear-gradient(90deg,var(--cta-start),var(--cta-end)); cursor:pointer;">ðŸŒ™</button>
    </nav>
  </header>

  <section class="hero">
    <h1>Projects</h1>
    <p>A curated list of projects, experiments, and creative work. Use the tags to filter by technology or type, search by keyword, and open any project for details and links.</p>
  </section>

  <main class="container" id="main">
    <div class="section-header">
      <div>
        <h2>Featured Projects</h2>
        <p>Selected work with short descriptions and tech tags.</p>
      </div>

      <div class="controls" aria-hidden="false">
        <div class="tag-bar" id="tagBar" role="list" aria-label="Project tags">
          <!-- tags injected by JS -->
        </div>

        <div class="search" role="search">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.35-4.35" stroke="#888" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="#888" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <input id="searchInput" type="search" placeholder="Search projects..." aria-label="Search projects" />
          <button class="clear-btn" id="clearSearch" title="Clear search">âœ•</button>
        </div>
      </div>
    </div>

    <div class="project-grid" id="projectGrid" aria-live="polite">
      <!-- Project cards injected by JS -->
    </div>

    <div class="projects-footer">
      <a class="btn btn-ghost" href="https://github.com/AnishRajankar?tab=repositories" target="_blank" rel="noopener">See all repositories on GitHub</a>
    </div>
  </main>

  <footer>
    <p>&copy; <span id="year"></span> Anish Rajankar</p>
  </footer>

  <!-- Modal for project details -->
  <div class="modal" id="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-card" role="document">
      <button class="modal-close" id="modalClose" aria-label="Close details">âœ•</button>
      <div id="modalContent"></div>
    </div>
  </div>

  <script>
    // Projects data
    const projects = [
      {
        id: "ts-distribution",
        title: "Python T-SHort Distribution System",
        desc: "A Python-based distribution system for T-shirt orders and inventory handling. Built with a focus on reliability and simple CLI/automation workflows.",
        tags: ["Python","CLI","Automation"],
        img: "images/project-ts-dist.png",
        links: []
      },
      {
        id: "inventory-tracker",
        title: "Inventory Tracker (Streamlit)",
        desc: "An inventory tracker built with Streamlit for quick dashboards and CRUD operations. Includes CSV import/export and simple analytics.",
        tags: ["Python","Streamlit","Dashboard"],
        img: "images/project-inventory.png",
        links: [{label:"GitHub", href:"https://github.com/AnishRajankar/inventory-tracker"}]
      },
      {
        id: "video-editing",
        title: "Video Editing Work",
        desc: "Five years of video editing experience â€” hundreds of videos and thousands of hours of footage edited for clients and personal projects. Skills include color grading, motion graphics, and efficient workflow pipelines.",
        tags: ["Video","Editing","Workflow"],
        img: "images/project-video-editing.png",
        links: []
      },
      {
        id: "calculator-app",
        title: "Python Calculator App",
        desc: "A lightweight calculator application implemented in Python with a clean UI and extensible operations. Useful as a learning project and utility.",
        tags: ["Python","App","Utility"],
        img: "images/project-calculator.png",
        links: []
      },
      {
        id: "cycling-app",
        title: "Cycling Application",
        desc: "A cycling app integrating Leaflet, Google Maps, OSMaps, vehicle number recognition APIs, and OpenAI Whisper for voice features. Designed for route planning, tracking, and automated logging.",
        tags: ["Python","Maps","APIs","OpenAI"],
        img: "images/project-cycling.png",
        links: []
      },
      {
        id: "blender-3d",
        title: "Blender 3D Work",
        desc: "Three completed courses in 3D design and five years of practice in Blender. Projects include modeling, texturing, and basic animation.",
        tags: ["Blender","3D","Design"],
        img: "images/project-blender.png",
        links: []
      },
      {
        id: "html-fundamentals",
        title: "HTML Fundamentals Website",
        desc: "A milestone project: a fundamentals website teaching HTML basics. The site is not currently online but represents a major learning milestone.",
        tags: ["HTML","Web","Learning"],
        img: "images/project-html-fundamentals.png",
        links: []
      }
    ];

    // Build tag list with counts
    const tagCounts = projects.reduce((acc, p) => {
      p.tags.forEach(t => acc[t] = (acc[t] || 0) + 1);
      return acc;
    }, {});

    const tagBar = document.getElementById('tagBar');
    const projectGrid = document.getElementById('projectGrid');
    const searchInput = document.getElementById('searchInput');
    const clearSearch = document.getElementById('clearSearch');
    const modal = document.getElementById('modal');
    const modalContent = document.getElementById('modalContent');
    const modalClose = document.getElementById('modalClose');

    // State
    let activeTags = new Set();
    let query = "";

    // Render tags
    function renderTags() {
      tagBar.innerHTML = '';
      const allTag = document.createElement('button');
      allTag.className = 'tag';
      allTag.textContent = 'All';
      allTag.onclick = () => { activeTags.clear(); render(); updateTagUI(); };
      tagBar.appendChild(allTag);

      Object.keys(tagCounts).sort().forEach(tag => {
        const btn = document.createElement('button');
        btn.className = 'tag';
        btn.setAttribute('data-tag', tag);
        btn.innerHTML = `${tag} <span class="count">(${tagCounts[tag]})</span>`;
        btn.onclick = () => {
          if (activeTags.has(tag)) activeTags.delete(tag);
          else activeTags.add(tag);
          updateTagUI();
          render();
        };
        tagBar.appendChild(btn);
      });

      // Clear filters button
      const clear = document.createElement('button');
      clear.className = 'tag';
      clear.textContent = 'Clear';
      clear.onclick = () => { activeTags.clear(); query=''; searchInput.value=''; render(); updateTagUI(); };
      tagBar.appendChild(clear);
    }

    // Update tag UI active states
    function updateTagUI() {
      document.querySelectorAll('.tag').forEach(el => {
        const t = el.getAttribute('data-tag');
        if (t && activeTags.has(t)) el.classList.add('active'); else el.classList.remove('active');
      });
    }

    // Render project cards
    function render() {
      const q = query.trim().toLowerCase();
      projectGrid.innerHTML = '';

      const filtered = projects.filter(p => {
        // tag filter
        if (activeTags.size > 0) {
          const has = [...activeTags].every(t => p.tags.includes(t));
          if (!has) return false;
        }
        // search filter
        if (q) {
          const hay = (p.title + ' ' + p.desc + ' ' + p.tags.join(' ')).toLowerCase();
          return hay.includes(q);
        }
        return true;
      });

      if (filtered.length === 0) {
        const empty = document.createElement('div');
        empty.className = 'card';
        empty.style.padding = '28px';
        empty.innerHTML = `<strong>No projects found</strong><div style="margin-top:8px;color:var(--muted)">Try clearing filters or search terms.</div>`;
        projectGrid.appendChild(empty);
        return;
      }

      filtered.forEach(p => {
        const card = document.createElement('article');
        card.className = 'project-card';
        card.innerHTML = `
          <div class="project-media">
            <img src="${p.img}" alt="${escapeHtml(p.title)} screenshot" onerror="this.style.objectFit='contain';this.src='images/placeholder.png'">
          </div>
          <div class="project-body">
            <div>
              <div class="project-title">${escapeHtml(p.title)}</div>
              <div class="project-desc">${escapeHtml(p.desc)}</div>
            </div>
            <div class="project-meta">
              ${p.tags.map(t => `<span class="tag-pill">${escapeHtml(t)}</span>`).join('')}
            </div>
            <div class="project-actions">
              <button class="btn btn-primary" data-id="${p.id}">Details</button>
              ${p.links && p.links.length ? p.links.map(l => `<a class="btn btn-ghost" href="${l.href}" target="_blank" rel="noopener">${escapeHtml(l.label)}</a>`).join('') : ''}
            </div>
          </div>
        `;
        projectGrid.appendChild(card);
      });

      // attach detail handlers
      document.querySelectorAll('.btn-primary[data-id]').forEach(b => {
        b.addEventListener('click', (e) => {
          const id = e.currentTarget.getAttribute('data-id');
          openDetails(id);
        });
      });
    }

    // Escape helper
    function escapeHtml(str) {
      return String(str).replace(/[&<>"']/g, function(m) { return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]; });
    }

    // Open modal with details
    function openDetails(id) {
      const p = projects.find(x => x.id === id);
      if (!p) return;
      modalContent.innerHTML = `
        <h2 style="margin-top:0">${escapeHtml(p.title)}</h2>
        <p style="color:var(--muted)">${escapeHtml(p.tags.join(' â€¢ '))}</p>
        <div style="margin-top:12px; display:flex; gap:12px; flex-wrap:wrap;">
          <img src="${p.img}" alt="${escapeHtml(p.title)} preview" style="width:220px; height:140px; object-fit:cover; border-radius:8px; box-shadow:0 8px 20px rgba(0,0,0,0.08)" onerror="this.src='images/placeholder.png'">
          <div style="flex:1;">
            <p style="margin-top:0">${escapeHtml(p.desc)}</p>
            <div style="margin-top:12px; display:flex; gap:8px; flex-wrap:wrap;">
              ${p.links && p.links.length ? p.links.map(l => `<a class="btn btn-ghost" href="${l.href}" target="_blank" rel="noopener">${escapeHtml(l.label)}</a>`).join('') : ''}
              <button class="btn btn-primary" id="modalCloseBtn">Close</button>
            </div>
          </div>
        </div>
      `;
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
      document.getElementById('modalCloseBtn')?.addEventListener('click', closeModal);
    }

    function closeModal() {
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden','true');
    }

    // Search handlers
    searchInput.addEventListener('input', (e) => {
      query = e.target.value;
      render();
    });
    clearSearch.addEventListener('click', () => {
      query = '';
      searchInput.value = '';
      render();
    });

    // Modal close
    modalClose.addEventListener('click', closeModal);
    modal.addEventListener('click', (e) => {
      if (e.target === modal) closeModal();
    });
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeModal();
    });

    // Theme toggle and persistence
    function toggleDarkMode() {
      document.body.classList.toggle('dark');
      try { localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light'); } catch(e){}
    }
    window.toggleDarkMode = toggleDarkMode;
    try {
      const saved = localStorage.getItem('theme');
      if (saved === 'dark') document.body.classList.add('dark');
    } catch(e){}

    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Initialize
    renderTags();
    updateTagUI();
    render();
  </script>
</body>
</html>
